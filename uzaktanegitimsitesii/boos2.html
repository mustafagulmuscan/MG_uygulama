<!DOCTYPE html>
<html lang="tr">

<head>
    <meta charset="UTF-8">
    <title>Boos 2 Dövüşü</title>
    <style>
        body {
            font-family: 'Comic Sans MS', sans-serif;
            background-color: #e3f2fd;
            padding: 20px;
            text-align: center;
        }

        h1 {
            color: #1565c0;
        }

        .question {
            margin: 30px auto;
            padding: 20px;
            background-color: #bbdefb;
            border-radius: 10px;
            width: 80%;
            max-width: 600px;
            box-shadow: 0 0 10px #90caf9;
        }

        button {
            padding: 10px 20px;
            margin-top: 10px;
            border: none;
            border-radius: 8px;
            background-color: #1976d2;
            color: white;
            cursor: pointer;
            font-weight: bold;
        }

        button:hover {
            background-color: #0d47a1;
        }

        #drag-options div {
            margin: 5px;
            padding: 8px;
            background-color: #e1f5fe;
            border: 1px dashed #0288d1;
            cursor: grab;
            display: inline-block;
            border-radius: 6px;
        }

        #drop-zone {
            margin-top: 15px;
            padding: 20px;
            border: 2px dashed #0288d1;
            min-height: 50px;
            border-radius: 10px;
            background-color: #f1f8ff;
        }
    </style>
</head>

<body>
    <h1>Boos 2 Savaşı</h1>

    <!-- ÇOKTAN SEÇMELİ -->
    <div class="question">
        <h3>1. Aşağıdaki ifadelerden hangisi doğrudur?</h3>
        <button onclick="answerMCQ(this, false)">A) Seri devrede tüm ampuller aynı voltajı alır.</button><br>
        <button onclick="answerMCQ(this, false)">B) Paralel devrede ampuller birbirine daha zayıf bağlanır.</button><br>
        <button onclick="answerMCQ(this, true)">C) Paralel devrede her ampul daha parlak yanar.</button><br>
        <button onclick="answerMCQ(this, false)">D) Seri devrede ampuller çok parlak yanar.</button>
    </div>

    <div class="question">
        <h3>2. Bir öğrenci bir seri ve paralel devre kurduğunda, paralel devredeki ampul daha parlak yanıyor. Sebebi
            nedir?</h3>
        <button onclick="answerMCQ(this, false)">A) Paralel devrede daha fazla ampul vardır.</button><br>
        <button onclick="answerMCQ(this, true)">B) Seri devre daha fazla direnç oluşturur.</button><br>
        <button onclick="answerMCQ(this, false)">C) Seri devre kısa devre yapar.</button><br>
        <button onclick="answerMCQ(this, false)">D) Ampuller seri devrede voltajı daha iyi kullanır.</button>
    </div>

    <div class="question">
        <h3>3. Paralel bağlı üç ampulden biri patladığında diğerleri ne olur?</h3>
        <button onclick="answerMCQ(this, false)">A) Hepsi söner.</button><br>
        <button onclick="answerMCQ(this, false)">B) Diğer ampuller daha parlak yanar.</button><br>
        <button onclick="answerMCQ(this, true)">C) Diğer ampuller normal şekilde yanmaya devam eder.</button><br>
        <button onclick="answerMCQ(this, false)">D) Pil tamamen boşalır.</button>
    </div>

    <!-- DOĞRU / YANLIŞ -->
    <div class="question">
        <h3>4. Doğru / Yanlış Soruları</h3>
        <p>1. Seri devrede ampuller aynı parlaklıkta yanar.</p>
        <button onclick="answerTF(this, true)">Doğru</button>
        <button onclick="answerTF(this, false)">Yanlış</button><br><br>

        <p>2. Paralel devrede her ampulün parlaklığı diğerine bağlıdır.</p>
        <button onclick="answerTF(this, false)">Doğru</button>
        <button onclick="answerTF(this, true)">Yanlış</button><br><br>

        <p>3. Paralel devrelerde ampuller daha parlak yanar.</p>
        <button onclick="answerTF(this, true)">Doğru</button>
        <button onclick="answerTF(this, false)">Yanlış</button>
    </div>

    <!-- SÜRÜKLE BIRAK - EŞLEŞTİRME -->
    <div class="question">
        <h3>5. Devre Türlerini Parlaklık Durumlarıyla Eşleştir</h3>
        <p>Devre türlerini doğru parlaklık açıklamalarıyla eşleştir:</p>

        <!-- Sürüklenenler -->
        <div style="margin-bottom: 15px;">
            <div id="seri" draggable="true" ondragstart="drag(event)"
                style="padding: 10px; background: #ffe082; display:inline-block; border-radius: 6px; margin: 5px;">Seri
                bağlı devre</div>
            <div id="paralel" draggable="true" ondragstart="drag(event)"
                style="padding: 10px; background: #aed581; display:inline-block; border-radius: 6px; margin: 5px;">
                Paralel bağlı devre</div>
        </div>

        <!-- Bırakma Kutuları -->
        <div style="display: flex; gap: 40px; justify-content: center;">
            <div id="drop1" ondrop="drop(event)" ondragover="allowDrop(event)" data-answer="seri"
                style="width: 200px; height: 200px; border: 2px dashed #888; border-radius: 10px; padding: 10px;">
                <strong>A) Ampuller daha sönük yanar</strong><br>
                <em>(Seri devre görseli buraya)</em>
                <br><br>
                <span id="drop1Text"></span>
            </div>

            <div id="drop2" ondrop="drop(event)" ondragover="allowDrop(event)" data-answer="paralel"
                style="width: 200px; height: 200px; border: 2px dashed #888; border-radius: 10px; padding: 10px;">
                <strong>B) Ampuller daha parlak yanar</strong><br>
                <em>(Paralel devre görseli buraya)</em>
                <br><br>
                <span id="drop2Text"></span>
            </div>
        </div>
    </div>

    <!-- BOOS YEN BUTONU -->
    <div class="question">
        <h2>🧠 Boosu Yen!</h2>
        <p>Squirtle ve Bulbasaur aldıysan, Boosu yenebilirsin.</p>
        <button onclick="tryDefeatBoss()">Boosu Yen</button>
    </div>

    <script>
        let coin = parseInt(localStorage.getItem("coin")) || 0;
        let earned = JSON.parse(localStorage.getItem("boos2Earned") || "[]");

        function rewardOnce(key, amount = 10) {
            if (!earned.includes(key)) {
                coin += amount;
                earned.push(key);
                localStorage.setItem("coin", coin);
                localStorage.setItem("boos2Earned", JSON.stringify(earned));
                alert(`🎉 ${amount} coin kazandın!`);
            }
        }

        function answerMCQ(btn, correct) {
            const key = "mcq-" + btn.innerText;
            if (correct) {
                rewardOnce(key);
                btn.style.backgroundColor = "green";
            } else {
                alert("❌ Yanlış cevap.");
                btn.style.backgroundColor = "red";
            }
        }

        function answerTF(btn, correct) {
            const key = "tf-" + btn.previousElementSibling?.innerText || btn.innerText;
            if (correct) {
                rewardOnce(key);
                btn.style.backgroundColor = "green";
            } else {
                alert("❌ Yanlış cevap.");
                btn.style.backgroundColor = "red";
            }
        }

        function allowDrop(ev) {
            ev.preventDefault();
        }

        function drag(ev) {
            ev.dataTransfer.setData("text", ev.target.id);
        }

        function drop(ev) {
            ev.preventDefault();
            const draggedId = ev.dataTransfer.getData("text");
            const dropZone = ev.currentTarget;
            const expected = dropZone.getAttribute("data-answer");

            if (draggedId === expected) {
                dropZone.appendChild(document.getElementById(draggedId));
                dropZone.querySelector("span").innerText = "✅ Doğru!";
                rewardOnce("match-" + expected);
            } else {
                alert("❌ Yanlış kutuya bıraktın!");
            }
        }

        function tryDefeatBoss() {
            const hasSquirtle = localStorage.getItem("Squirtle") === "true";
            const hasBulbasaur = localStorage.getItem("Bulbasaur") === "true";

            if (hasSquirtle && hasBulbasaur) {
                alert("🔥 Tebrikler! Boos 2'yi yendin!");
                const defeated = JSON.parse(localStorage.getItem("defeatedBosses") || "[]");
                if (!defeated.includes(2)) {
                    defeated.push(2);
                    localStorage.setItem("defeatedBosses", JSON.stringify(defeated));
                }
            } else {
                alert("❌ Boosu yenmek için Squirtle ve Bulbasaur gerekli!");
            }
        }
    </script>

</body>

</html>