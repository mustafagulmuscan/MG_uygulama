<!DOCTYPE html>
<html lang="tr">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Uzaktan Eğitim Platformu</title>
  <link rel="stylesheet" href="style.css" />
</head>

<body>
  <div id="wallet"
    style="position: fixed; top: 10px; right: 20px; background: gold; padding: 10px 20px; border-radius: 10px;">
    💰 Paran: <span id="coin">0</span>
  </div>
  <div class="container">
    <!-- Sidebar -->
    <nav id="sidebar" class="sidebar">
      <button class="toggle-btn" onclick="toggleSidebar()">☰</button>
      <h2>Üniteler</h2>
      <ul>
        <li><a href="#unit1">Oryantasyon</a></li>
        <li><a href="#unit2">Elektriğin Kavramları</a></li>
        <li><a href="#unit3">Devre Türleri</a></li>
        <li><a href="#unit4">Elektrik Akımı ve Yönü</a></li>
        <li><a href="market.html">🎁 Market</a></li>
        <li><a href="boos.html">🧟 Boos Dövüşü</a></li>
      </ul>
    </nav>

    <!-- İçerik -->
    <div class="main-content" id="main-content">
      <header>
        <h1>Hoş Geldiniz</h1>
        <p>Basit Elektrik Devresi</p>
      </header>

      <main>
        <section id="unit1" class="unit">
          <h2>Oryantasyon</h2>
          <div class="resources">
            <video id="video1" width="320" height="240" controls>
              <source src="oryantasyon.mp4" type="video/mp4">
            </video>
            <div class="progress-container">
              <div class="progress-bar" id="progressBar"></div>
            </div>

            <p>İzleme Yüzdesi: <span id="progress">0%</span></p>
          </div>
        </section>
        <section id="unit2" class="unit">
          <h2>Ünite 1: Elektriğin Kavramları</h2>
          <div class="resources">
            <h3>🎥 Video</h3>
            <iframe src="" frameborder="0" allowfullscreen></iframe>

            <h3>📄 Konu Anlatımı</h3>
            <a href="konuanlatim1.html" target="_blank">Elektriğin kavramları</a>

            <h3>📝 Kavrama Testleri</h3>
            <div class="tabs">
              <button class="tab-button active" onclick="showTab('u1tab1', this)">Test Soruları</button>
              <button class="tab-button" onclick="showTab('u1tab2', this)">Eşleştirme Soruları</button>
              <button class="tab-button" onclick="showTab('u1tab3', this)">Doğru-Yanlış Soruları</button>
            </div>

            <!-- Sekme İçerikleri -->
            <div class="tab-content" id="u1tab1">
              <!-- Buraya Etkinlik 1 iframe'i -->
              <iframe style="max-width:100%"
                src="https://wordwall.net/tr/embed/9a25adc23adf4d66a0b0198334ce420a?themeId=1&templateId=5&fontStackId=0"
                width="500" height="380" frameborder="0" allowfullscreen></iframe>
            </div>
            <div class="tab-content" id="u1tab2" style="display:none;">
              <!-- Buraya Etkinlik 2 iframe'i -->
              <iframe style="max-width:100%"
                src="https://wordwall.net/tr/embed/9885479652c34c1e8f1479ee1392a9c2?themeId=1&templateId=3&fontStackId=0"
                width="500" height="380" frameborder="0" allowfullscreen></iframe>
            </div>
            <div class="tab-content" id="u1tab3" style="display:none;">
              <!-- Buraya Etkinlik 3 iframe'i -->
              <iframe style="max-width:100%"
                src="https://wordwall.net/tr/embed/85eee95ed45145aba4026539edba3b80?themeId=1&templateId=35&fontStackId=0"
                width="500" height="380" frameborder="0" allowfullscreen></iframe>
            </div>
            <h3>Tartışma ve Sorular</h3>
            <!-- Ünite 1 Yorumları -->
            <form id="discussion-form-unit1">
              <textarea id="question-unit1" placeholder="Sorunuzu yazın..." required></textarea>
              <button type="submit" class="submit-btn">Gönder</button>
            </form>
            <div id="discussion-comments-unit1"></div>

          </div>
        </section>
        <section id="unit3" class="unit">
          <h2>Ünite 2: Devre Türleri</h2>
          <div class="resources">
            <h3>🎥 Video</h3>
            <iframe src="" frameborder="0" allowfullscreen></iframe>

            <h3>📄 Konu Anlatımı</h3>
            <a href="konuanlatim2.html" target="_blank">Devre Türleri</a>

            <h3>📝 Kavrama Testleri</h3>
            <div class="tabs">
              <button class="tab-button active" onclick="showTab('u2tab1', this)">Test Soruları</button>
              <button class="tab-button" onclick="showTab('u2tab2', this)">Eşleştirme Soruları</button>
              <button class="tab-button" onclick="showTab('u2tab3', this)">Doğru-Yanlış Soruları</button>
            </div>

            <!-- Sekme İçerikleri -->
            <div class="tab-content" id="u2tab1">
              <!-- Buraya Etkinlik 1 iframe'i -->
              <iframe style="max-width:100%"
                src="https://wordwall.net/tr/embed/150daf6461684d0b87c3ea6ddd2298d3?themeId=1&templateId=5&fontStackId=0"
                width="500" height="380" frameborder="0" allowfullscreen></iframe>
            </div>
            <div class="tab-content" id="u2tab2" style="display:none;">
              <!-- Buraya Etkinlik 2 iframe'i -->
              <iframe style="max-width:100%"
                src="https://wordwall.net/tr/embed/a02b2c3f32ed421abedc76d0dc59a336?themeId=1&templateId=3&fontStackId=0"
                width="500" height="380" frameborder="0" allowfullscreen></iframe>
            </div>
            <div class="tab-content" id="u2tab3" style="display:none;">
              <!-- Buraya Etkinlik 3 iframe'i -->
              <iframe style="max-width:100%"
                src="https://wordwall.net/tr/embed/d8a86129d88443e88d42f1e2db750018?themeId=1&templateId=35&fontStackId=0"
                width="500" height="380" frameborder="0" allowfullscreen></iframe>
            </div>
            <h3>Tartışma ve Sorular</h3>
            <!-- Ünite 1 Yorumları -->
            <form id="discussion-form-unit3">
              <textarea id="question-unit3" placeholder="Sorunuzu yazın..." required></textarea>
              <button type="submit" class="submit-btn">Gönder</button>
            </form>
            <div id="discussion-comments-unit3"></div>

          </div>
        </section>
        <section id="unit4" class="unit">
          <h2>Ünite 3: Elektrik Akımı ve Yönü</h2>
          <div class="resources">
            <h3>🎥 Video</h3>
            <iframe src="" frameborder="0" allowfullscreen></iframe>

            <h3>📄 Konu Anlatımı</h3>
            <a href="konuanlatim3.html" target="_blank">Elektrik Akımı ve Yönü</a>

            <h3>📝 Kavrama Testleri</h3>
            <div class="tabs">
              <button class="tab-button active" onclick="showTab('u3tab1', this)">Test Soruları</button>
              <button class="tab-button" onclick="showTab('u3tab2', this)">Eşleştirme Soruları</button>
              <button class="tab-button" onclick="showTab('u3tab3', this)">Doğru-Yanlış Soruları</button>
            </div>

            <!-- Sekme İçerikleri -->
            <div class="tab-content" id="u3tab1">
              <!-- Buraya Etkinlik 1 iframe'i -->
              <iframe style="max-width:100%"
                src="https://wordwall.net/tr/embed/8f6d3b9118f44f5690bcffdd06424e60?themeId=1&templateId=5&fontStackId=0"
                width="500" height="380" frameborder="0" allowfullscreen></iframe>
            </div>
            <div class="tab-content" id="u3tab2" style="display:none;">
              <!-- Buraya Etkinlik 2 iframe'i -->
              <iframe style="max-width:100%"
                src="https://wordwall.net/tr/embed/9885479652c34c1e8f1479ee1392a9c2?themeId=1&templateId=3&fontStackId=0"
                width="500" height="380" frameborder="0" allowfullscreen></iframe>
            </div>
            <div class="tab-content" id="u3tab3" style="display:none;">
              <!-- Buraya Etkinlik 3 iframe'i -->
              <iframe style="max-width:100%"
                src="https://wordwall.net/tr/embed/9cf4cbe9b2e64018a05a8f4ab8945885?themeId=1&templateId=35&fontStackId=0"
                width="500" height="380" frameborder="0" allowfullscreen></iframe>
            </div>
            <h3>Tartışma ve Sorular</h3>
            <!-- Ünite 1 Yorumları -->
            <form id="discussion-form-unit4">
              <textarea name="question" id="question-unit4" placeholder="Sorunuzu buraya yazın..." required></textarea>
              <button type="submit" class="submit-btn">Gönder</button>
            </form>
            <div id="discussion-comments-unit4"></div>

          </div>
        </section>
        <!-- Chatbot İkonu ve Mesajlaşma Sekmesine Geçiş için İkon -->
        <div id="chat-container" class="chat-container">
          <!-- Chatbot İkonu -->
          <div id="chatbot-icon" class="chatbot-icon" onclick="openChat()">
            🗨️
          </div>
        </div>

      </main>
    </div>
  </div>
  <script>
    function toggleSidebar() {
      const sidebar = document.getElementById("sidebar");
      sidebar.classList.toggle("collapsed");
    }
  </script>
  <script>
    // Yorumları yükle
    function loadComments(unitId) {
      const comments = JSON.parse(localStorage.getItem(`${unitId}-comments`)) || [];
      comments.forEach(comment => {
        displayComment(comment, unitId);
      });
    }

    // Yorumları ekleyen işlev
    function displayComment(comment, unitId) {
      const commentDiv = document.createElement('div');
      commentDiv.classList.add('comment');
      commentDiv.innerHTML = `
        <p>${comment.text}</p>
        <button class="delete-btn">Sil</button>
      `;

      commentDiv.querySelector('.delete-btn').addEventListener('click', function () {
        deleteComment(comment.text, unitId);
        commentDiv.remove();
      });

      document.getElementById(`discussion-comments-${unitId}`).appendChild(commentDiv);
    }

    // Yorum silme işlemi
    function deleteComment(commentText, unitId) {
      let comments = JSON.parse(localStorage.getItem(`${unitId}-comments`)) || [];
      comments = comments.filter(comment => comment.text !== commentText);
      localStorage.setItem(`${unitId}-comments`, JSON.stringify(comments));
    }

    // Form gönderimini işle
    function setupCommentForm(unitId) {
      const form = document.getElementById(`discussion-form-${unitId}`);
      if (!form) return;

      form.addEventListener('submit', function (e) {
        e.preventDefault();

        const textarea = document.getElementById(`question-${unitId}`);
        const commentText = textarea.value.trim();
        if (commentText) {
          const newComment = { text: commentText };
          const comments = JSON.parse(localStorage.getItem(`${unitId}-comments`)) || [];
          comments.push(newComment);
          localStorage.setItem(`${unitId}-comments`, JSON.stringify(comments));

          displayComment(newComment, unitId);
          form.reset();
        }
      });
    }

    // Tüm üniteleri hazırla
    window.addEventListener('DOMContentLoaded', () => {
      ['unit1', 'unit2', 'unit3', 'unit4', 'unit5'].forEach(unitId => {
        setupCommentForm(unitId);
        loadComments(unitId);
      });
    });
  </script>


  <script>
    (function () {
      if (!window.chatbase || window.chatbase("getState") !== "initialized") {
        window.chatbase = (...arguments) => {
          if (!window.chatbase.q) { window.chatbase.q = [] }
          window.chatbase.q.push(arguments)
        };
        window.chatbase = new Proxy(window.chatbase, {
          get(target, prop) {
            if (prop === "q") { return target.q }
            return (...args) => target(prop, ...args)
          }
        });
      }

      const onLoad = function () {
        const script = document.createElement("script");
        script.src = "https://www.chatbase.co/embed.min.js";
        script.id = "XRca-BGHXUqd6FuJMDdOq";
        script.domain = "www.chatbase.co";
        document.body.appendChild(script);
      };

      if (document.readyState === "complete") {
        onLoad();
      } else {
        window.addEventListener("load", onLoad);
      }
    })();
  </script>
  <script>
    function showTab(tabId, btn) {
      // Sekmeleri gizle
      const tabs = document.querySelectorAll('.tab-content');
      tabs.forEach(tab => {
        tab.style.display = 'none'; // Tüm sekmeleri gizler
      });

      // Aktif buton vurgusunu kaldır
      const buttons = document.querySelectorAll('.tab-button');
      buttons.forEach(b => {
        b.classList.remove('active'); // Tüm butonlardan aktif sınıfını kaldırır
      });

      // Seçilen sekmeyi göster
      const selectedTab = document.getElementById(tabId);
      selectedTab.style.display = 'block'; // Doğru sekmeyi göster
      btn.classList.add('active'); // Seçilen butona aktif sınıfını ekler

      // iframe'leri yeniden yükle
      const iframe = selectedTab.querySelector('iframe');
      if (iframe) {
        const iframeSrc = iframe.src; // Mevcut iframe src'sini al
        iframe.src = ''; // iframe'i sıfırla
        iframe.src = iframeSrc; // iframe'i yeniden yükle
      }
    }
  </script>
  <script>// Chatbot açılacak fonksiyon
    function openChat() {
      window.open('sohbet.html', '_blank'); // 'sohbet.html' yeni sekmede açılacak
    }

  </script>
  <script>
    // Coinleri yerel depodan çek
    let coin = parseInt(localStorage.getItem("coin")) || 0;
    // Eğer sayacın olduğu bir alan varsa oraya yaz (örnek)
    if (document.getElementById("coin")) {
      document.getElementById("coin").innerText = coin;
    }

    const videos = [
      { id: "video1", watched: false },
      { id: "video2", watched: false },
    ];

    videos.forEach((videoData, index) => {
      const videoElement = document.getElementById(videoData.id);

      videoElement.addEventListener("ended", () => {
        if (!videoData.watched) {
          videoData.watched = true;

          // Coin sadece ilk izleyişte verilsin
          const rewardKey = `rewardGiven${index}`;
          if (!localStorage.getItem(rewardKey)) {
            coin += 10; // Her videodan 10 coin
            localStorage.setItem("coin", coin);
            localStorage.setItem(rewardKey, "true");

            // Sayacı güncelle
            if (document.getElementById("coin")) {
              document.getElementById("coin").innerText = coin;
            }

            alert("🎉 Tebrikler! 10 coin kazandın!");
          }

          // Progresi güncelle
          updateProgress();
        }
      });
    });

    function updateProgress() {
      const watchedCount = videos.filter(v => v.watched).length;
      const percentage = Math.round((watchedCount / videos.length) * 100);
      document.getElementById("progress").innerText = `${percentage}%`;
      document.getElementById("progressBar").style.width = `${percentage}%`;
    }
  </script>
<script>
// Öğrenci sayfası veri yükleme
document.addEventListener('DOMContentLoaded', () => {
  // Uygulama verilerini yükle
  const appData = JSON.parse(localStorage.getItem('appData')) || { videos: {}, assignments: [] };
  
  // Videoları yükle
  ['unit1', 'unit2', 'unit3', 'unit4', 'unit5'].forEach(unitId => {
    const videoContainer = document.querySelector(`#${unitId} .video-container`);
    if (videoContainer && appData.videos[unitId]) {
      videoContainer.innerHTML = '<h3>🎥 Ders Videoları</h3>';
      appData.videos[unitId].forEach(video => {
        const videoElement = document.createElement('div');
        videoElement.className = 'video-item';
        videoElement.innerHTML = `
          <iframe src="${getEmbedUrl(video.url)}" frameborder="0" allowfullscreen></iframe>
          <p>${video.title}</p>
        `;
        videoContainer.appendChild(videoElement);
      });
    }
  });
  
  // Ödevleri yükle
  const studentAssignments = document.getElementById('student-assignments');
  if (studentAssignments) {
    studentAssignments.innerHTML = '';
    appData.assignments.forEach(assignment => {
      const assignmentElement = document.createElement('div');
      assignmentElement.className = 'assignment-item';
      assignmentElement.innerHTML = `
        <h4>${assignment.title}</h4>
        <p>${assignment.description}</p>
        <small>Teslim Tarihi: ${assignment.dueDate}</small>
        ${assignment.grade ? `
          <div class="grade-info">
            <strong>Not: ${assignment.grade}</strong>
            <p>Geri Bildirim: ${assignment.feedback || 'Yok'}</p>
          </div>
        ` : '<p>Henüz notlandırılmadı</p>'}
      `;
      studentAssignments.appendChild(assignmentElement);
    });
  }
});

function getEmbedUrl(url) {
  // Aynı embed dönüşüm fonksiyonu
  if (url.includes('youtube.com') || url.includes('youtu.be')) {
    const regExp = /^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/;
    const match = url.match(regExp);
    return (match && match[2].length === 11) ? 
      `https://www.youtube.com/embed/${match[2]}` : url;
  }
  if (url.includes('vimeo.com')) {
    const regExp = /^.*(vimeo\.com\/)((channels\/[A-z]+\/)|(groups\/[A-z]+\/videos\/))?([0-9]+)/;
    const match = url.match(regExp);
    return match ? `https://player.vimeo.com/video/${match[5]}` : url;
  }
  return url;
}
</script>






</body>

</html>

</body>

</html>